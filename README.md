# 计算机视觉与深度学习实验项目

这是一个基于Python的综合计算机视觉与深度学习实验项目，包含图像处理、神经网络训练、迁移学习和网络协议分析等多个实验模块，提供交互式的学习体验。

**作者**: dobqop999@gmail.com
**GitHub**: [https://github.com/quitedob/visionhomework](https://github.com/quitedob/visionhomework)

## 项目结构

```
visiontest/
├── .gitignore            # Git忽略文件配置
├── .venv/                 # 虚拟环境目录
├── Test1.py              # OpenCV图像处理实验主程序
├── test2.py              # PyTorch MNIST手写数字识别实验（高级GUI版本）
├── Test3.py              # PyTorch ResNet50迁移学习猫狗分类实验（增强版）
├── IE.py                 # IEEE 802.3以太网帧封装工具
├── requirements.txt      # 项目依赖
├── test_dependencies.py  # 依赖测试脚本
└── README.md            # 项目说明
```

## 实验模块

### 1. OpenCV图像处理实验 (Test1.py)
**交互式图像处理学习平台**

- **功能特性**：
  - 交互式图像处理实验演示
  - 支持中英文界面切换
  - 步骤化学习引导（8个实验步骤）
  - 图像读取、保存和格式对比
  - RGB通道分离和合并
  - 色彩空间转换演示
  - 性能优化（缓存机制、多线程处理）

- **实验步骤**：
  1. 图像选择和加载
  2. 图像读取和属性显示
  3. JPEG质量对比（可调节参数）
  4. PNG压缩对比（可调节参数）
  5. 灰度图像分离演示
  6. 图像创建和复制操作
  7. RGB通道分离（自适应显示）
  8. BGR与RGB色彩空间对比

### 2. PyTorch MNIST手写数字识别 (test2.py)
**深度学习入门实验 - 高级GUI版本**

- **核心功能**：
  - 基于卷积神经网络的MNIST手写数字识别
  - 现代化标签页GUI界面
  - 实时训练进度监控和可视化
  - 步骤化交互式实验引导
  - 手写数字识别功能
  - 模型保存和加载

- **技术特点**：
  - **批标准化加速收敛**
  - **学习率调度器优化训练**
  - **Dropout防止过拟合**
  - **tqdm进度条实时显示**
  - 多线程处理避免GUI阻塞
  - 缓存优化和性能监控

- **实验步骤**：
  1. 数据加载和预览（可配置数据集大小）
  2. 数据可视化分析
  3. CNN模型架构搭建
  4. 模型训练（实时监控）
  5. 模型测试和结果分析
  6. 手写数字识别

### 3. ResNet50迁移学习猫狗分类 (Test3.py)
**高级深度学习实验 - 增强版迁移学习**

- **核心功能**：
  - 使用预训练ResNet50进行迁移学习
  - 猫狗二分类任务
  - 系统资源监控和性能优化
  - 高级训练监控和分析

- **技术特点**：
  - **微调策略**：解冻layer4，差异化学习率
  - **ReduceLROnPlateau学习率调度器**
  - **增强数据增强**：旋转、颜色抖动等
  - **系统性能监控**：CPU、内存、GPU使用率
  - **缓存管理和优化建议**
  - **配置管理和实验日志**
  - **tqdm进度条实时显示**

- **实验步骤**：
  1. 数据集加载和预处理
  2. 模型配置和迁移学习设置
  3. 实时训练监控（资源监控）
  4. 模型性能分析和可视化
  5. 单张图像和批量预测
  6. 模型导出和配置管理

### 4. IEEE 802.3以太网帧封装工具 (IE.py)
**网络协议分析实验**

- **核心功能**：
  - IEEE 802.3标准以太网帧封装
  - CRC-32校验和计算
  - 完整帧结构可视化
  - 交互式参数调整

- **技术特点**：
  - 标准CRC-32-IEEE 802.3多项式实现
  - 支持文本和十六进制数据输入
  - 多标签页结果显示
  - 详细的帧结构分析
  - 实时参数验证和错误处理

## 环境配置

### 依赖库安装

项目需要以下主要依赖库：

- **OpenCV (opencv-python)** - 计算机视觉库
- **NumPy** - 数值计算库
- **Pillow (PIL)** - 图像处理库
- **PyTorch (torch)** - 深度学习框架
- **TorchVision (torchvision)** - PyTorch计算机视觉库
- **Matplotlib** - 数据可视化库
- **tkinter** - GUI界面库（Python内置）
- **tqdm** - 进度条库
- **psutil** - 系统资源监控（Test3.py）
- **seaborn** - 增强可视化库
- **GPUtil** - GPU监控（可选，Test3.py）

### PyTorch安装

在运行PyTorch相关实验前，请确保正确安装PyTorch。您可以访问 [PyTorch官网](https://pytorch.org/get-started/locally/) 根据您的系统配置选择合适的安装方式。

### 使用虚拟环境

项目已配置虚拟环境，包含所有必要的依赖库。

### 激活虚拟环境

#### Windows:
```bash
# 激活虚拟环境
.venv\Scripts\activate

# 退出虚拟环境
deactivate
```

#### Linux/Mac:
```bash
# 激活虚拟环境
source .venv/bin/activate

# 退出虚拟环境
deactivate
```

## 运行程序

激活虚拟环境后，可以运行以下程序：

### OpenCV图像处理实验
```bash
python Test1.py
```
*启动交互式图像处理学习平台，支持8个实验步骤和参数调节*

### PyTorch MNIST手写数字识别实验
```bash
python test2.py
```
*启动现代化的图形界面，支持标签页操作、实时训练监控和手写识别*

### PyTorch ResNet50迁移学习猫狗分类实验
```bash
python Test3.py
```
*启动增强版迁移学习实验，包含系统监控、性能分析和高级训练功能*

### IEEE 802.3以太网帧封装工具
```bash
python IE.py
```
*启动网络协议分析工具，支持以太网帧封装和CRC校验计算*

## 技术亮点

### 🎯 现代化GUI设计
- **多标签页界面**：清晰的功能分区和导航
- **响应式布局**：支持窗口缩放和自适应
- **现代化主题**：统一的颜色方案和视觉风格
- **中英文双语**：国际化界面支持

### ⚡ 性能优化
- **多线程处理**：避免GUI阻塞，提升用户体验
- **智能缓存机制**：图像和结果缓存，减少重复计算
- **内存管理**：自动清理缓存，防止内存泄漏
- **后台任务队列**：异步处理复杂计算任务

### 📊 实时监控与分析
- **训练进度监控**：实时显示损失、准确率曲线
- **系统资源监控**：CPU、内存、GPU使用率追踪
- **性能优化建议**：智能分析系统状态并提供优化建议
- **详细日志记录**：完整的实验过程记录

### 🔬 完整的实验流程
- **步骤化引导**：从数据加载到模型部署的完整流程
- **可视化分析**：丰富的图表和统计信息
- **交互式参数调节**：实时调整参数并观察效果
- **结果导出**：支持模型保存和配置管理

## 学习路径

### 📚 初学者路径
1. **OpenCV图像处理实验 (Test1.py)** - 理解图像处理基础
2. **MNIST手写数字识别 (test2.py)** - 深度学习入门
3. **以太网帧封装工具 (IE.py)** - 网络协议基础
4. **ResNet50迁移学习 (Test3.py)** - 高级深度学习应用

### 🎯 专项学习路径

#### 计算机视觉方向
- OpenCV基础 → 深度学习入门 → 迁移学习应用

#### 网络协议方向
- 以太网帧结构 → CRC校验算法 → 网络编程基础

#### 深度学习方向
- CNN原理 → 迁移学习 → 系统优化与监控

## 数据集准备

### MNIST数据集
实验2和实验3中的MNIST数据集会在首次运行时自动下载，无需手动准备。

### 猫狗分类数据集（实验3可选）
如需运行完整的猫狗分类实验，请按以下结构组织数据：

```
data/DogsVSCats/
├── train/
│   ├── cat/     # 猫的训练图片 (jpg/png格式)
│   └── dog/     # 狗的训练图片 (jpg/png格式)
└── valid/
    ├── cat/     # 猫的验证图片 (jpg/png格式)
    └── dog/     # 狗的验证图片 (jpg/png格式)
```

您可以从[Kaggle Dogs vs. Cats](https://www.kaggle.com/c/dogs-vs-cats/data)下载数据集。

## 依赖库说明

### 核心依赖库
- `opencv-python` - OpenCV计算机视觉库（图像处理）
- `numpy` - 数值计算库（矩阵运算）
- `torch` - PyTorch深度学习框架
- `torchvision` - PyTorch计算机视觉库（预训练模型、数据集）
- `matplotlib` - 数据可视化库（图表绘制）
- `Pillow` - Python图像处理库（GUI图像显示）
- `tkinter` - GUI界面库（Python内置）

### 高级功能依赖库
- `tqdm` - 进度条库（训练进度显示）
- `psutil` - 系统资源监控（CPU、内存使用率）
- `seaborn` - 增强可视化库（统计图表）
- `GPUtil` - GPU监控库（可选，GPU使用率）

### Python内置库
- `os` - 操作系统接口
- `threading` - 多线程支持
- `queue` - 线程间通信
- `json` - JSON配置文件处理
- `datetime` - 时间处理
- `weakref` - 弱引用缓存
- `functools` - 函数工具（LRU缓存）

## 故障排除

### 常见问题

**1. GUI界面无法启动**
- 确保已安装tkinter：`python -m tkinter`
- 检查虚拟环境是否正确激活

**2. PyTorch相关错误**
- 重新安装PyTorch：访问[PyTorch官网](https://pytorch.org/get-started/locally/)
- 检查CUDA版本兼容性（如使用GPU）

**3. 内存不足**
- 减少批次大小设置
- 定期清理缓存（Test3.py中提供缓存管理功能）

**4. 图像加载失败**
- 检查图像文件路径和格式
- 确认Pillow库正确安装

### 性能优化建议

**1. 使用GPU加速**
- 安装CUDA版本的PyTorch
- 在Test3.py中监控GPU使用率

**2. 调整批次大小**
- 根据可用内存调整batch_size参数
- 使用系统监控功能查看资源使用情况

**3. 缓存管理**
- 定期清理图像缓存
- 监控内存使用情况

## 项目特色

### 🌟 教育价值
- **理论与实践结合**：从基础概念到实际应用
- **渐进式学习**：由浅入深的实验设计
- **交互式体验**：实时反馈和可视化

### 🔧 技术实践
- **现代开发实践**：模块化设计、缓存优化、多线程处理
- **完整的MLOps流程**：数据预处理、模型训练、性能监控、部署
- **网络协议实现**：底层网络原理的工程实践

### 📈 可扩展性
- **模块化架构**：易于添加新功能
- **配置管理**：支持参数调优和实验记录
- **插件化设计**：支持自定义扩展

## 注意事项

- 虚拟环境已配置完成，推荐在虚拟环境中运行程序
- 首次运行深度学习实验时会自动下载预训练模型和数据集，需要网络连接
- GPU版本PyTorch可显著提升训练速度（Test2.py和Test3.py）
- 定期查看系统监控信息以优化性能配置
